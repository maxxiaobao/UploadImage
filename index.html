<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>test upload</title>
	<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">  
	<style>
		img{
			width: 200px;
			height: 200px;
		}
	</style>
</head>
<body>
	上传文件：<input type="file" id="file_input">
	<div id="result"></div>
	<script>
		var result = document.getElementById("result"); 
		var input = document.getElementById("file_input"); 
 
		if(typeof FileReader==='undefined'){ 
		    result.innerHTML = "抱歉，你的浏览器不支持 FileReader"; 
		    input.setAttribute('disabled','disabled'); 
		}else{ 
		    input.addEventListener('change',readFile,false); 
		} 
		function readFile(){ 
		    var file = this.files[0]; 
		    if(!/image\/\w+/.test(file.type)){ 
		        alert("文件必须为图片！"); 
		        return false; 
		    } 
		    var reader = new FileReader(); 
		    reader.readAsDataURL(file); 
		    reader.onload = function(e){ 
		        result.innerHTML = '<img src="'+this.result+'" alt=""/>' 
		    } 
		} 

	</script>
</body>
</html>